@use "../functions" as *;
@use "../variables" as *;

/// Generate theme variables.
/// @param {map} $themes - The themes map.
/// @param {string} $selector - The selector.
/// @return {string} - The generated theme variables.
@mixin mix-themes(
    $themes: $themes,
    $selector: ':root'
  ) {
  @each $theme, $map in $themes {
    @media (prefers-color-scheme: #{$theme}) {
      #{$selector} {
        color-scheme: #{$theme};

        @each $key, $submap in $map {
          --#{$key}: #{map-deep-get($themes, $theme, "#{$key}")};
        }
      }
    }
  }
}
